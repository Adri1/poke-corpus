!function(){"use strict";function e(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function r(r,n){return function(e){if(Array.isArray(e))return e}(r)||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,u,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===r){if(Object(n)!==n)return;l=!1}else for(;!(l=(t=o.call(n)).done)&&(a.push(t.value),a.length!==r);l=!0);}catch(i){c=!0,u=i}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw u}}return a}}(r,n)||function(r,n){if(r){if("string"===typeof r)return e(r,n);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?e(r,n):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var n=JSON.parse('{"s":{"DiamondPearl":{"languages":["ja-Hrkt-JP","en-US","en-GB","fr-FR","it-IT","de-DE","es-ES","ko-KR"],"structured":true,"version":null,"files":["msg"]},"Platinum":{"languages":["ja-Hrkt-JP","en-US","en-GB","fr-FR","it-IT","de-DE","es-ES","ko-KR"],"structured":true,"version":null,"files":["msg"]},"HeartGoldSoulSilver":{"languages":["ja-Hrkt-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR"],"structured":true,"version":null,"files":["msg"]},"BlackWhite":{"languages":["en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR"],"structured":true,"version":null,"files":["common","script"]},"Black2White2":{"languages":["ja-Hrkt-JP","ja-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR"],"structured":true,"version":null,"files":["common","script"]},"XY":{"languages":["ja-Hrkt-JP","ja-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR"],"structured":true,"version":null,"files":["common","script"]},"OmegaRubyAlphaSapphire":{"languages":["ja-Hrkt-JP","ja-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR"],"structured":true,"version":null,"files":["common","script"]},"SunMoon":{"languages":["ja-Hrkt-JP","ja-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR","zh-CN","zh-TW"],"structured":true,"version":null,"files":["common","script"]},"UltraSunUltraMoon":{"languages":["ja-Hrkt-JP","ja-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR","zh-CN","zh-TW"],"structured":true,"version":null,"files":["common","script"]},"LetsGoPikachuLetsGoEevee":{"languages":["ja-Hrkt-JP","ja-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR","zh-CN","zh-TW"],"structured":true,"version":null,"files":["common","script"]},"SwordShield":{"languages":["ja-Hrkt-JP","ja-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR","zh-CN","zh-TW"],"structured":true,"version":"1.3.0","files":["common","script"]},"LegendsArceus":{"languages":["ja-Hrkt-JP","ja-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR","zh-CN","zh-TW"],"structured":true,"version":"1.1.0","files":["common","script"]},"ScarletViolet":{"languages":["ja-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR","zh-CN","zh-TW"],"structured":true,"version":"1.3.2","files":["common","script"]},"Bank":{"languages":["ja-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR","zh-CN","zh-TW"],"structured":true,"version":"1.4","files":["common"]},"HOME":{"languages":["ja-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR","zh-CN","zh-TW"],"structured":true,"version":"3.0.0","files":["common"]}}}');function t(e,r,n,t){postMessage({complete:!1,status:e,progress:.49*r+.49*n+.01*t,resultsLanguages:[],results:[]})}function u(e){postMessage({complete:!0,status:e,progress:1,resultsLanguages:arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],results:arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]})}self.onmessage=function(e){var o=e.data;t("loading",0,0,0),caches.keys().then((function(e){return Promise.all(e.filter((function(e){return"v1"!==e})).map((function(e){return caches.delete(e)})))}));var s=[],a=[];o.collections.forEach((function(e){var r=n.s[e];o.languages.every((function(e){return!r.languages.includes(e)}))||r.files.filter((function(e){return!("common"===e&&!o.common||"script"===e&&!o.script)})).forEach((function(n){var t=r.languages.map((function(r){return function(e,r,n){var t="/poke-corpus"+"/corpus/".concat(e,"/").concat(r,"_").concat(n,".txt");return caches.open("v1").then((function(e){return e.match(t).then((function(r){return null!==r&&void 0!==r?r:e.add(t).then((function(){return e.match(t)})).then((function(e){return null!==e&&void 0!==e?e:fetch(t)}))}))})).catch((function(){return fetch(t)})).then((function(e){return e.text()}))}(e,r,n).then((function(e){return[r,e]}))}));t.forEach((function(e){return a.push(e)})),s.push([e,n,t])}))}));var l=o.regex?new RegExp(o.query,o.caseInsensitive?"ui":"u"):null;var c=[],i=s.map((function(e){var n=r(e,3),t=n[0],u=n[1],s=n[2].map((function(e){return e.then((function(e){var n=r(e,2),t=n[0],u=n[1].split(/\r\n|\n/),s=[];return o.languages.includes(t)&&u.forEach((function(e,r){(function(e){return o.regex&&null!==l&&null!==e.match(l)||!o.regex&&!o.caseInsensitive&&e.includes(o.query)||!o.regex&&o.caseInsensitive&&(e.toLowerCase().includes(o.query.toLowerCase())||e.toUpperCase().includes(o.query.toUpperCase()))})(e)&&s.push(r)})),[t,s,u]}))}));return s.forEach((function(e){return c.push(e)})),Promise.all(s).then((function(e){var n=[],o=new Set,s=[];e.forEach((function(e){var t=r(e,3),u=t[0],a=t[1],l=t[2];n.push(u),a.forEach((function(e){return o.add(e)})),s.push(l)}));var a=[];return Array.from(o).sort().forEach((function(e){return a.push(s.map((function(r){var n;return(null!==(n=r[e])&&void 0!==n?n:"").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll(/\\r\\n|\\c\\n|\\n/g,"<br>").replaceAll(/\\r|\\c|\\l|\\x25BD/g,"<br>").replaceAll(/\{([^|}]+)\|([^|}]+)\}/g,"<ruby>$1<rp>(</rp><rt>$2</rt><rp>)</rp></ruby>").trimStart()})))})),[t,u,n,a]}))})),f=0,h=0;a.forEach((function(e){e.then((function(){t("loading",++f/a.length,h/c.length,0/i.length)}))})),c.forEach((function(e){e.then((function(){h++,t("processing",f/a.length,h/c.length,0/i.length)}))})),Promise.all(i).then((function(e){var n=[],o=[];e.forEach((function(e,u){var s=r(e,4),l=s[0],g=s[1],p=s[2],d=s[3];n.push(p),o.push([l,g,d]),u++,t("collecting",f/a.length,h/c.length,u/i.length)})),u("done",n,o)})).catch((function(e){console.error(e),u("error")}))}}();
//# sourceMappingURL=757.2f773287.chunk.js.map