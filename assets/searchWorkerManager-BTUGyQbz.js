(function(){"use strict";var j={hash:"630E9549",languages:["qid-ZZ","ja-Hrkt-JP","ja-JP","en-US","en-GB","fr-FR","it-IT","de-DE","es-ES","ko-KR","zh-CN","zh-TW"],collections:{Red:{languages:["ja-Hrkt-JP","en-US","fr-FR","it-IT","de-DE","es-ES"],structured:!1,files:["data"]},Green:{languages:["ja-Hrkt-JP"],structured:!1,files:["data"]},Blue:{languages:["ja-Hrkt-JP","en-US","fr-FR","it-IT","de-DE","es-ES"],structured:!1,files:["data"]},Yellow:{languages:["ja-Hrkt-JP","en-US","fr-FR","it-IT","de-DE","es-ES"],structured:!1,files:["data"]},Gold:{languages:["ja-Hrkt-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR"],structured:!1,files:["data"]},Silver:{languages:["ja-Hrkt-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR"],structured:!1,files:["data"]},Crystal:{languages:["ja-Hrkt-JP","en-US","fr-FR","it-IT","de-DE","es-ES"],structured:!1,files:["data"]},Ruby:{languages:["ja-Hrkt-JP","en-US","fr-FR","it-IT","de-DE","es-ES"],structured:!1,version:{"ja-JP":"1.0","en-US":"1.1/1.2","fr-FR":"1.0/1.1","it-IT":"1.0/1.1","de-DE":"1.0/1.1","es-ES":"1.0/1.1"},files:["data"]},Sapphire:{languages:["ja-Hrkt-JP","en-US","fr-FR","it-IT","de-DE","es-ES"],structured:!1,version:{"ja-JP":"1.0","en-US":"1.1/1.2","fr-FR":"1.0/1.1","it-IT":"1.0/1.1","de-DE":"1.0/1.1","es-ES":"1.0/1.1"},files:["data"]},FireRed:{languages:["ja-Hrkt-JP","en-US","fr-FR","it-IT","de-DE","es-ES"],structured:!1,version:{"ja-JP":"1.0","en-US":"1.1","fr-FR":"1.0","it-IT":"1.0","de-DE":"1.0","es-ES":"1.0"},files:["data"]},LeafGreen:{languages:["ja-Hrkt-JP","en-US","fr-FR","it-IT","de-DE","es-ES"],structured:!1,version:{"ja-JP":"1.0","en-US":"1.1","fr-FR":"1.0","it-IT":"1.0","de-DE":"1.0","es-ES":"1.0"},files:["data"]},Emerald:{languages:["ja-Hrkt-JP","en-US","fr-FR","it-IT","de-DE","es-ES"],structured:!1,version:"1.0",files:["data"]},DiamondPearl:{id:"dp",languages:["qid-ZZ","ja-Hrkt-JP","en-US","en-GB","fr-FR","it-IT","de-DE","es-ES","ko-KR"],structured:!0,files:["msg"]},Platinum:{id:"pt",languages:["qid-ZZ","ja-Hrkt-JP","en-US","en-GB","fr-FR","it-IT","de-DE","es-ES","ko-KR"],structured:!0,files:["msg"]},HeartGoldSoulSilver:{id:"hgss",languages:["qid-ZZ","ja-Hrkt-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR"],structured:!0,files:["msg"]},BlackWhite:{id:"bw",languages:["qid-ZZ","ja-Hrkt-JP","ja-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR"],structured:!0,files:["common","script"]},Black2White2:{id:"b2w2",languages:["qid-ZZ","ja-Hrkt-JP","ja-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR"],structured:!0,files:["common","script"]},XY:{id:"xy",languages:["qid-ZZ","ja-Hrkt-JP","ja-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR"],structured:!0,files:["common","script"]},OmegaRubyAlphaSapphire:{id:"oras",languages:["qid-ZZ","ja-Hrkt-JP","ja-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR"],structured:!0,files:["common","script"]},SunMoon:{id:"sm",languages:["qid-ZZ","ja-Hrkt-JP","ja-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR","zh-CN","zh-TW"],structured:!0,files:["common","script"],speaker:{file:"common",textFile:"58"}},UltraSunUltraMoon:{id:"usum",languages:["qid-ZZ","ja-Hrkt-JP","ja-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR","zh-CN","zh-TW"],structured:!0,files:["common","script"],speaker:{file:"common",textFile:"63"}},LetsGoPikachuLetsGoEevee:{id:"lgpe",languages:["qid-ZZ","ja-Hrkt-JP","ja-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR","zh-CN","zh-TW"],structured:!0,files:["common","script"]},SwordShield:{id:"swsh",languages:["qid-ZZ","ja-Hrkt-JP","ja-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR","zh-CN","zh-TW"],structured:!0,version:"1.3.0",files:["common","script"],speaker:{file:"common",textFile:"namelist"}},BrilliantDiamondShiningPearl:{id:"bdsp",languages:["qid-ZZ","ja-Hrkt-JP","ja-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR","zh-CN","zh-TW"],structured:!0,version:"1.3.0",files:["message"],speaker:{file:"message",textFile:"dlp_speakers_name"}},LegendsArceus:{id:"la",languages:["qid-ZZ","ja-Hrkt-JP","ja-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR","zh-CN","zh-TW"],structured:!0,version:"1.1.0",files:["common","script"],speaker:{file:"common",textFile:"namelist"}},ScarletViolet:{id:"sv",languages:["qid-ZZ","ja-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR","zh-CN","zh-TW"],structured:!0,version:"3.0.0",files:["common","script"],speaker:{file:"common",textFile:"namelist"}},Colosseum:{id:"colo",languages:["qid-ZZ","ja-JP","en-US","en-GB","fr-FR","it-IT","de-DE","es-ES"],structured:!0,files:["msg"]},XD:{id:"xd",languages:["qid-ZZ","ja-JP","en-US","en-GB","fr-FR","it-IT","de-DE","es-ES"],structured:!0,files:["msg"]},Bank:{id:"bank",languages:["qid-ZZ","ja-Hrkt-JP","ja-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR","zh-CN","zh-TW"],structured:!0,version:"1.4",files:["turtle"]},HOME:{id:"home",languages:["qid-ZZ","ja-Hrkt-JP","ja-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR","zh-CN","zh-TW"],structured:!0,version:"3.2.1",files:["megaturtle"]}}};const J=(u,f,h)=>`/poke-corpus/corpus/${u}/${f}_${h}.txt.gz`,F=(u,f)=>u.match(f).then(h=>h!==void 0?h:fetch(f).then(k=>(u.put(f,k.clone()).then(()=>{}),k))),E=j,T=`corpus-${E.hash}`;function Z(u){return new Worker("/poke-corpus/assets/searchWorker-Cjk3MpZI.js",{name:u==null?void 0:u.name})}self.onmessage=u=>{const p=(t,l,r,o)=>{const a=l*.49+r*.49+o*.01;postMessage({complete:!1,status:t,progress:a,results:[]})},m=(t,l=[])=>{postMessage({complete:!0,status:t,progress:1,results:l})},R=(t,l,r)=>{const o=J(t,l,r);return("caches"in self?self.caches.open(T).then(a=>F(a,o)).catch(a=>(console.error(a),console.log(`Could not retrieve ${o} from cache. Fetching directly...`),fetch(o))):fetch(o)).catch(a=>(console.error(a),null)).then(a=>a===null?"":a.blob().then(d=>new Response(d.stream().pipeThrough(new DecompressionStream("gzip"))).text()))};try{const t=u.data;p("loading",0,0,0);try{t.regex&&new RegExp(t.query,t.caseInsensitive?"ui":"u")}catch(e){console.error(e),m("regex");return}let l=0;const r=[];if(Object.keys(E.collections).filter(e=>t.collections.includes(e)).forEach(e=>{const s=E.collections[e];t.languages.every(n=>!s.languages.includes(n))||s.files.filter(n=>!(n==="common"&&!t.common||n==="script"&&!t.script)).forEach(n=>{const g=s.structured?s.languages:s.languages.filter(c=>t.languages.includes(c));s.structured?r.push({index:l,params:t,collectionKey:e,fileKey:n,languages:g,speaker:s==null?void 0:s.speaker}):g.forEach((c,i)=>{r.push({index:l+i,params:t,collectionKey:e,fileKey:n,languages:[c]})}),l+=g.length})}),r.length===0){m("noMatch");return}let o=0,a=0,d=0;const P=[],S=[],D=e=>{const s=e.data;if(s.status==="processing")a++,p("processing",o/r.length,a/l,d/r.length);else if(s.status==="done"){if(P.push(s),d++,p("collecting",o/r.length,a/l,d/r.length),d===r.length){const n=[];P.sort((i,U)=>i.index-U.index);let g="",c="";P.map(i=>i.result).filter(({lines:i})=>i.length>0).forEach(i=>{n.push({...i,displayHeader:i.collection!==g||i.file!==c}),g=i.collection,c=i.file}),m("done",n),S.forEach(i=>i.terminate())}}else m(s.status),S.forEach(n=>n.terminate())},I=Math.max(1,Math.min(r.length,(navigator.hardwareConcurrency||4)-2));for(let e=0;e<I;e++){const s=new Z;s.onmessage=D,S.push(s)}r.forEach(async(e,s)=>{const n=e.speaker,g={...e,files:await Promise.all(e.languages.map(c=>R(e.collectionKey,c,e.fileKey))),speakerFiles:n===void 0?void 0:await Promise.all(e.languages.map(c=>R(e.collectionKey,c,n.file)))};o++,p("loading",o/r.length,a/l,d/r.length),S[s%S.length].postMessage(g)})}catch(t){console.error(t),m("error")}}})();
