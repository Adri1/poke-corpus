(function(){"use strict";var j={hash:"641D6BB9",languages:["qid-ZZ","ja-Hrkt-JP","ja-JP","en-US","en-GB","fr-FR","it-IT","de-DE","es-ES","ko-KR","zh-CN","zh-TW"],collections:{Red:{languages:["ja-Hrkt-JP","en-US","fr-FR","it-IT","de-DE","es-ES"],structured:!1,files:["data"]},Green:{languages:["ja-Hrkt-JP"],structured:!1,files:["data"]},Blue:{languages:["ja-Hrkt-JP","en-US","fr-FR","it-IT","de-DE","es-ES"],structured:!1,files:["data"]},Yellow:{languages:["ja-Hrkt-JP","en-US","fr-FR","it-IT","de-DE","es-ES"],structured:!1,files:["data"]},Gold:{languages:["ja-Hrkt-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR"],structured:!1,files:["data"]},Silver:{languages:["ja-Hrkt-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR"],structured:!1,files:["data"]},Crystal:{languages:["ja-Hrkt-JP","en-US","fr-FR","it-IT","de-DE","es-ES"],structured:!1,files:["data"]},Ruby:{languages:["ja-Hrkt-JP","en-US","fr-FR","it-IT","de-DE","es-ES"],structured:!1,version:{"ja-JP":"1.0","en-US":"1.1/1.2","fr-FR":"1.0/1.1","it-IT":"1.0/1.1","de-DE":"1.0/1.1","es-ES":"1.0/1.1"},files:["data"]},Sapphire:{languages:["ja-Hrkt-JP","en-US","fr-FR","it-IT","de-DE","es-ES"],structured:!1,version:{"ja-JP":"1.0","en-US":"1.1/1.2","fr-FR":"1.0/1.1","it-IT":"1.0/1.1","de-DE":"1.0/1.1","es-ES":"1.0/1.1"},files:["data"]},FireRed:{languages:["ja-Hrkt-JP","en-US","fr-FR","it-IT","de-DE","es-ES"],structured:!1,version:{"ja-JP":"1.0","en-US":"1.1","fr-FR":"1.0","it-IT":"1.0","de-DE":"1.0","es-ES":"1.0"},files:["data"]},LeafGreen:{languages:["ja-Hrkt-JP","en-US","fr-FR","it-IT","de-DE","es-ES"],structured:!1,version:{"ja-JP":"1.0","en-US":"1.1","fr-FR":"1.0","it-IT":"1.0","de-DE":"1.0","es-ES":"1.0"},files:["data"]},Emerald:{languages:["ja-Hrkt-JP","en-US","fr-FR","it-IT","de-DE","es-ES"],structured:!1,version:"1.0",files:["data"]},DiamondPearl:{id:"dp",languages:["qid-ZZ","ja-Hrkt-JP","en-US","en-GB","fr-FR","it-IT","de-DE","es-ES","ko-KR"],structured:!0,files:["msg"]},Platinum:{id:"pt",languages:["qid-ZZ","ja-Hrkt-JP","en-US","en-GB","fr-FR","it-IT","de-DE","es-ES","ko-KR"],structured:!0,files:["msg"]},HeartGoldSoulSilver:{id:"hgss",languages:["qid-ZZ","ja-Hrkt-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR"],structured:!0,files:["msg"]},BlackWhite:{id:"bw",languages:["qid-ZZ","ja-Hrkt-JP","ja-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR"],structured:!0,files:["common","script"]},Black2White2:{id:"b2w2",languages:["qid-ZZ","ja-Hrkt-JP","ja-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR"],structured:!0,files:["common","script"]},XY:{id:"xy",languages:["qid-ZZ","ja-Hrkt-JP","ja-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR"],structured:!0,version:"1.5",files:["common","script"]},OmegaRubyAlphaSapphire:{id:"oras",languages:["qid-ZZ","ja-Hrkt-JP","ja-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR"],structured:!0,version:"1.4",files:["common","script"]},SunMoon:{id:"sm",languages:["qid-ZZ","ja-Hrkt-JP","ja-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR","zh-CN","zh-TW"],structured:!0,version:"1.2",files:["common","script"],speaker:{file:"common",textFile:"58"}},UltraSunUltraMoon:{id:"usum",languages:["qid-ZZ","ja-Hrkt-JP","ja-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR","zh-CN","zh-TW"],structured:!0,version:"1.2",files:["common","script"],speaker:{file:"common",textFile:"63"}},LetsGoPikachuLetsGoEevee:{id:"lgpe",languages:["qid-ZZ","ja-Hrkt-JP","ja-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR","zh-CN","zh-TW"],structured:!0,version:"1.0.0/1.0.1/1.0.2",files:["common","script"]},SwordShield:{id:"swsh",languages:["qid-ZZ","ja-Hrkt-JP","ja-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR","zh-CN","zh-TW"],structured:!0,version:"1.3.0/1.3.1/1.3.2",files:["common","script"],speaker:{file:"common",textFile:"namelist"}},BrilliantDiamondShiningPearl:{id:"bdsp",languages:["qid-ZZ","ja-Hrkt-JP","ja-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR","zh-CN","zh-TW"],structured:!0,version:"1.3.0",files:["message"],speaker:{file:"message",textFile:"dlp_speakers_name"}},LegendsArceus:{id:"la",languages:["qid-ZZ","ja-Hrkt-JP","ja-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR","zh-CN","zh-TW"],structured:!0,version:"1.1.0/1.1.1",files:["common","script"],speaker:{file:"common",textFile:"namelist"}},ScarletViolet:{id:"sv",languages:["qid-ZZ","ja-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR","zh-CN","zh-TW"],structured:!0,version:"3.0.1",files:["common","script"],speaker:{file:"common",textFile:"namelist"}},Colosseum:{id:"colo",languages:["qid-ZZ","ja-JP","en-US","en-GB","fr-FR","it-IT","de-DE","es-ES"],structured:!0,files:["msg"]},XD:{id:"xd",languages:["qid-ZZ","ja-JP","en-US","en-GB","fr-FR","it-IT","de-DE","es-ES"],structured:!0,files:["msg"]},BattleRevolution:{id:"pbr",languages:["qid-ZZ","ja-JP","en-US","en-GB","fr-FR","it-IT","de-DE","es-ES"],structured:!0,version:{"ja-JP":"0/1/2","en-US":"0","en-GB":"0","fr-FR":"0","it-IT":"0","de-DE":"0","es-ES":"0"},files:["message"]},Box:{id:"box",languages:["qid-ZZ","ja-Hrkt-JP","en-US","en-GB","fr-FR","it-IT","de-DE","es-ES"],structured:!0,files:["message"]},Ranch:{id:"ranch",languages:["qid-ZZ","ja-Hrkt-JP","en-US","en-GB","fr-FR","it-IT","de-DE","es-ES"],structured:!0,version:{"ja-Hrkt-JP":"258","en-US":"256","en-GB":"1","fr-FR":"1","it-IT":"1","de-DE":"1","es-ES":"1"},files:["msg"]},Bank:{id:"bank",languages:["qid-ZZ","ja-Hrkt-JP","ja-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR","zh-CN","zh-TW"],structured:!0,version:"1.5",files:["turtle"]},HOME:{id:"home",languages:["qid-ZZ","ja-Hrkt-JP","ja-JP","en-US","fr-FR","it-IT","de-DE","es-ES","ko-KR","zh-CN","zh-TW"],structured:!0,version:"3.2.1",files:["megaturtle"]}}};const J=(u,f,h)=>`/poke-corpus/corpus/${u}/${f}_${h}.txt.gz`,F=(u,f)=>u.match(f).then(h=>h!==void 0?h:fetch(f).then(k=>(u.put(f,k.clone()).then(()=>{}),k))),p=j,T=`corpus-${p.hash}`;function D(u){return new Worker("/poke-corpus/assets/searchWorker-BuU8QiKE.js",{name:u==null?void 0:u.name})}self.onmessage=u=>{const m=(t,o,r,l)=>{const a=o*.49+r*.49+l*.01;postMessage({complete:!1,status:t,progress:a,results:[]})},S=(t,o=[])=>{postMessage({complete:!0,status:t,progress:1,results:o})},R=(t,o,r)=>{const l=J(t,o,r);return("caches"in self?self.caches.open(T).then(a=>F(a,l)).catch(a=>(console.error(a),console.log(`Could not retrieve ${l} from cache. Fetching directly...`),fetch(l))):fetch(l)).catch(a=>(console.error(a),null)).then(a=>a===null?"":a.blob().then(d=>new Response(d.stream().pipeThrough(new DecompressionStream("gzip"))).text()))};try{const t=u.data;m("loading",0,0,0);try{t.regex&&new RegExp(t.query,t.caseInsensitive?"ui":"u")}catch(e){console.error(e),S("regex");return}let o=0;const r=[];if(Object.keys(p.collections).filter(e=>t.collections.includes(e)).forEach(e=>{const s=p.collections[e];t.languages.every(n=>!s.languages.includes(n))||s.files.filter(n=>!(n==="common"&&!t.common||n==="script"&&!t.script)).forEach(n=>{const g=s.structured?s.languages:s.languages.filter(c=>t.languages.includes(c));s.structured?r.push({index:o,params:t,collectionKey:e,fileKey:n,languages:g,speaker:s==null?void 0:s.speaker}):g.forEach((c,i)=>{r.push({index:o+i,params:t,collectionKey:e,fileKey:n,languages:[c]})}),o+=g.length})}),r.length===0){S("noMatch");return}let l=0,a=0,d=0;const P=[],E=[],Z=e=>{const s=e.data;if(s.status==="processing")a++,m("processing",l/r.length,a/o,d/r.length);else if(s.status==="done"){if(P.push(s),d++,m("collecting",l/r.length,a/o,d/r.length),d===r.length){const n=[];P.sort((i,I)=>i.index-I.index);let g="",c="";P.map(i=>i.result).filter(({lines:i})=>i.length>0).forEach(i=>{n.push({...i,displayHeader:i.collection!==g||i.file!==c}),g=i.collection,c=i.file}),S("done",n),E.forEach(i=>i.terminate())}}else S(s.status),E.forEach(n=>n.terminate())},U=Math.max(1,Math.min(r.length,(navigator.hardwareConcurrency||4)-2));for(let e=0;e<U;e++){const s=new D;s.onmessage=Z,E.push(s)}r.forEach(async(e,s)=>{const n=e.speaker,g={...e,files:await Promise.all(e.languages.map(c=>R(e.collectionKey,c,e.fileKey))),speakerFiles:n===void 0?void 0:await Promise.all(e.languages.map(c=>R(e.collectionKey,c,n.file)))};l++,m("loading",l/r.length,a/o,d/r.length),E[s%E.length].postMessage(g)})}catch(t){console.error(t),S("error")}}})();
